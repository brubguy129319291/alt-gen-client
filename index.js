const express = require("express")
const axios = require("axios")

//const deobfuscate = require("./utilities/obfuscator.js")
const getLink = require("./utilities/getLaunchData.js")

const app = express()
const PORT = 3000

app.use(express.static(__dirname+"/client"))

//we have to obfuscate this part cus we obfuscate our cookies and it would be bad if you knew how we deobfuscate them
const _0x3f6e=['/:id','Drvl,W?mYF','_0x3b0a10','MgGhy3o3?c','kcuG@Rsigj','60fAoGgG','uU\x27nW$@**J','_0x59c288','_0xfa8b65','Abq#Gsgau,','_0x2b0dbf','join','YVr/la,fpD','M7SmbGLa!k','length','_0x3fac2f','1ernMiI','_0x44546d','aUw@rbvofo','c8Q^YoQb`%','0zW331yFex','tcNkekme%I','740988tysyMR','$mAVC^HlI\x27','_0x3210e2','_0x5cc57e','GdWI9n^PIW','GET','_0x3c52a5','_0x5e4fe1','_0x3a62ea','358213aboUrc','_0x5c3c0d','Y69c/p0`i5','_0x9305ab','_0x15511e','M%D@I0Xns,','_0x4dbb96','_0x26f3bc','1VntOxr','_0x16e374','2042oNKXNJ','_0x275420','z#ORwm8*1w','#(S&@&)%6,','o02c&^tq\x27.','hpV!z1bo%b','Could\x20not\x20get\x20launch\x20data.','*$~SBp!6jh','<!DOCTYPE\x20html>\x0a\x0a\x20\x20\x20\x20<html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>Apathy\x20|\x20Alt\x20Generator</title>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<!--favicon-->\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22shortcut\x20icon\x22\x20type=\x22image/jpg\x22\x20href=\x22/images/icon.png\x22/>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<!--Style-->\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22/public/style.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<!--Main-->\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.location.href\x20=\x20\x22','_0x1c66c3','1X4$W0qS$B','send','D,BGZYGb$b','1014359lUwrgx','E&l2(aYtd&','k6p9Q@j9OV','83F/zV!~*K','An\x20invalid\x20id\x20was\x20used.','yVv!X.T7ir','_0x313a9b','16803njyRum','343796TkSgMD','_0x5ba1af','j*0ydo2xiA','.iT&i*JQ3W','_0x527bc6','_0x5a30c3','w?Sy$.uf9@','x\x278&H8oXht','_0x62e13','\x20was\x20used.','wG#t7mhcyE','_0x503091','result','6yzbGpA','WM731)KyV?','B!~S?dy\x278B','_0x226b89','_0xd78e4b','1f1puTG6GV','http://localhost:5000/getToken/','A@^j&9Og2l','RdTUZi0Pxg','_0x55b6df','BoIMX#\x27XN~','_0x5d5f45','get','1417223AmZgcl','ys?1J@F@E4','push','slice','method','U`Wzmu)JxW','_0x29476c','124wyvTjZ','data','IAAH)?nTEm','/KBts.e9^u','_0x3453af','_0x4d02ef','dzDW%i,d,#','log','_0x864f47','entries','_0x3bbe5c','(*J%.p5SZc','?GEr$*eUet','_0x1d1d47','W^mo,mXI1W','_0x5d4e48'];function _0x5709(_0xabe982,_0x55858e){_0xabe982=_0xabe982-(0x196*0x6+-0x449+-0x1*0x3df);let _0x1ac5f9=_0x3f6e[_0xabe982];return _0x1ac5f9;}const _0x342c4d=_0x5709;(function(_0x487c1a,_0x280a90){const _0x1918f4=_0x5709;while(!![]){try{const _0x5d57b2=-parseInt(_0x1918f4(0x1aa))*-parseInt(_0x1918f4(0x1b9))+-parseInt(_0x1918f4(0x183))*-parseInt(_0x1918f4(0x1c1))+-parseInt(_0x1918f4(0x1b0))+-parseInt(_0x1918f4(0x19f))*parseInt(_0x1918f4(0x168))+-parseInt(_0x1918f4(0x161))+parseInt(_0x1918f4(0x1c3))*-parseInt(_0x1918f4(0x18a))+-parseInt(_0x1918f4(0x176))*-parseInt(_0x1918f4(0x169));if(_0x5d57b2===_0x280a90)break;else _0x487c1a['push'](_0x487c1a['shift']());}catch(_0x2cee5a){_0x487c1a['push'](_0x487c1a['shift']());}}}(_0x3f6e,-0x84cd6*0x3+0x1*0x11ffe7+-0x7c*-0x2820));const _0x49c114={};_0x49c114[_0x342c4d(0x1ba)]='crv.e%!YMx',_0x49c114[_0x342c4d(0x17f)]='~*K^p86f*@',_0x49c114[_0x342c4d(0x1b3)]='XlAVB%FVsA',_0x49c114[_0x342c4d(0x1ab)]='1NaGtEWSXm',_0x49c114['E']=_0x342c4d(0x1ae),_0x49c114[_0x342c4d(0x192)]=_0x342c4d(0x170),_0x49c114[_0x342c4d(0x1bd)]=_0x342c4d(0x1a0),_0x49c114['_0x38b808']=_0x342c4d(0x177),_0x49c114['_0x265aeb']='Gyuxbf63Ws',_0x49c114['_0x4206f5']=_0x342c4d(0x188),_0x49c114[_0x342c4d(0x1a1)]=_0x342c4d(0x1b1),_0x49c114[_0x342c4d(0x18e)]=_0x342c4d(0x180),_0x49c114[_0x342c4d(0x18f)]=_0x342c4d(0x173),_0x49c114[_0x342c4d(0x16a)]=_0x342c4d(0x1c6),_0x49c114['_0x202612']='WSCAuwg%c&',_0x49c114['_0x2cac1f']=_0x342c4d(0x1a6),_0x49c114['Q']=_0x342c4d(0x184),_0x49c114[_0x342c4d(0x1a2)]=_0x342c4d(0x1b4),_0x49c114[_0x342c4d(0x1c4)]=_0x342c4d(0x17d),_0x49c114[_0x342c4d(0x199)]='Ac%NP&0TL%',_0x49c114[_0x342c4d(0x1b2)]='./WHpwyt6#',_0x49c114[_0x342c4d(0x181)]=_0x342c4d(0x196),_0x49c114[_0x342c4d(0x171)]=_0x342c4d(0x1be),_0x49c114[_0x342c4d(0x1a9)]=_0x342c4d(0x1c8),_0x49c114[_0x342c4d(0x15d)]=_0x342c4d(0x17e),_0x49c114[_0x342c4d(0x1b8)]=_0x342c4d(0x163),_0x49c114['a']=_0x342c4d(0x162),_0x49c114['b']='rD1zS7Yy~X',_0x49c114['c']=_0x342c4d(0x1a7),_0x49c114['d']='27upBWADzh',_0x49c114['e']=_0x342c4d(0x1a3),_0x49c114['f']=_0x342c4d(0x1bb),_0x49c114[_0x342c4d(0x167)]=_0x342c4d(0x190),_0x49c114[_0x342c4d(0x1bc)]='%OvcmrV%d\x27',_0x49c114[_0x342c4d(0x174)]=_0x342c4d(0x18c),_0x49c114['_0x3dc7df']=_0x342c4d(0x16b),_0x49c114[_0x342c4d(0x197)]='PcXCt7HNfG',_0x49c114[_0x342c4d(0x179)]=_0x342c4d(0x19b),_0x49c114[_0x342c4d(0x1c2)]='O\x278k\x27(Hz16',_0x49c114['n']=_0x342c4d(0x18d),_0x49c114[_0x342c4d(0x16e)]=_0x342c4d(0x19e),_0x49c114['_0x2f91e8']=_0x342c4d(0x160),_0x49c114['_0x2fd90c']=_0x342c4d(0x1c5),_0x49c114['r']=_0x342c4d(0x198),_0x49c114['s']=_0x342c4d(0x166),_0x49c114[_0x342c4d(0x194)]='TcNt^kmZA6',_0x49c114['_0x3d5822']=_0x342c4d(0x1ca),_0x49c114['_0x20e9b3']=_0x342c4d(0x17b),_0x49c114['w']=_0x342c4d(0x19d),_0x49c114['x']=_0x342c4d(0x195),_0x49c114['y']='k)hUdvvmsb',_0x49c114['z']='%ADpz~HubQ',_0x49c114['0']=_0x342c4d(0x1ad),_0x49c114['1']='ln\x27fvMa~Qz',_0x49c114['2']='U3\x271I,$fZ%',_0x49c114['3']='xD2,kACLoV',_0x49c114['4']=_0x342c4d(0x1c7),_0x49c114['5']=_0x342c4d(0x1ac),_0x49c114['6']='kyb^h4q6ad',_0x49c114['7']=_0x342c4d(0x178),_0x49c114['8']=_0x342c4d(0x1af),_0x49c114['9']=_0x342c4d(0x164),_0x49c114[_0x342c4d(0x1b7)]=_0x342c4d(0x15e),_0x49c114[_0x342c4d(0x1bf)]='HvBzqSsW#q',_0x49c114[_0x342c4d(0x1b6)]=_0x342c4d(0x16f),_0x49c114['_0x34f4e9']=_0x342c4d(0x16c),_0x49c114[_0x342c4d(0x189)]='xgITb)@4&&',_0x49c114[_0x342c4d(0x17a)]='4oLG*F^z#T';const _0x4313ed=_0x49c114;function _0xe63bc8(_0x1185d2){const _0x253764=_0x342c4d,_0x324771={};_0x324771['_0x2dbb9e']=function(_0x257d05,_0x5d398b){return _0x257d05==_0x5d398b;};const _0x153dc5=_0x324771;let _0x24a7e1=[],_0x3f04d1=-0x2*0x927+-0xd*-0x121+0x3a1;for(let _0x2d7f56=-0x1578+0xbc*-0x1+0x1634;_0x2d7f56<=_0x1185d2[_0x253764(0x1a8)];_0x2d7f56+=0x44e*-0x2+-0x1*-0x1b83+-0x12dd){const _0xef48bf=_0x1185d2[_0x253764(0x186)](_0x3f04d1,_0x2d7f56);for(const [_0x2a1988,_0x544c58]of Object[_0x253764(0x193)](_0x4313ed)){if(_0x153dc5['_0x2dbb9e'](_0x544c58,_0xef48bf)){_0x24a7e1[_0x253764(0x185)](_0x2a1988);break;}}_0x3f04d1=_0x2d7f56;}return _0x24a7e1[_0x253764(0x1a5)]('');}app[_0x342c4d(0x182)](_0x342c4d(0x19a),async(_0x26c6af,_0x4ef5d9)=>{const _0x4f37ce=_0x342c4d,_0x58bb54={};_0x58bb54[_0x4f37ce(0x16d)]=_0x4f37ce(0x1b5),_0x58bb54[_0x4f37ce(0x1c0)]=function(_0x23ff0d,_0x32bb5e,_0x43ae3e){return _0x23ff0d(_0x32bb5e,_0x43ae3e);},_0x58bb54[_0x4f37ce(0x1a4)]=_0x4f37ce(0x1c9);const _0x55ed87=_0x58bb54,_0x59945a=_0x26c6af['_0x147b62']['id'],_0x17c135={};_0x17c135[_0x4f37ce(0x187)]=_0x55ed87[_0x4f37ce(0x16d)];const _0x5e0aa1=await axios(_0x4f37ce(0x17c)+_0x59945a,_0x17c135);if(!_0x5e0aa1[_0x4f37ce(0x18b)])return console[_0x4f37ce(0x191)]('No\x20Response\x20from\x20server,\x20the\x20server\x20might\x20be\x20down.');if(!_0x5e0aa1[_0x4f37ce(0x18b)]['_0x754ebc'])return console[_0x4f37ce(0x191)](_0x4f37ce(0x165));const _0x5cefa2=_0xe63bc8(_0x5e0aa1['data'][_0x4f37ce(0x175)]),_0x5a9add=_0x5e0aa1[_0x4f37ce(0x18b)][_0x4f37ce(0x19c)]||0x10cb0fa8+-0x10b55a26+0x259e9e0c,_0x34b003=await _0x55ed87[_0x4f37ce(0x1c0)](getLink,_0x5cefa2,_0x5a9add);if(!_0x34b003[-0x4f*0x59+0x209d+-0x1*0x526])return console[_0x4f37ce(0x191)](_0x55ed87[_0x4f37ce(0x1a4)]);console[_0x4f37ce(0x191)](_0x59945a+_0x4f37ce(0x172)),_0x4ef5d9[_0x4f37ce(0x15f)](_0x4f37ce(0x15c)+_0x34b003[0x169*-0xb+-0x1b30+0x2ab4]+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20</html>');});

const listener = app.listen(PORT, () => {
    console.log(`Apathy Client is listening on port ${listener.address().port}`);
})
